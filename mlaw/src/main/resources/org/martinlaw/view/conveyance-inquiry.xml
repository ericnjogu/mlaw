<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean id="conveyance_inquiry_view" parent="Uif-InquiryView">
		<property name="headerText" value="Conveyance Inquiry" />
		<property name="dataObjectClassName" value="org.martinlaw.bo.Conveyance" />
		<property name="formPostUrl" value="inquiryWithAtts" />
		<property name="Items">
			<list>
				<bean parent="Uif-Disclosure-GridSection">
					<property name="headerText" value="Case Information" />
					<property name="layoutManager.numberOfColumns" value="2" />
					<property name="items">
						<list>
							<bean parent="Uif-InputField" p:propertyName="id" />
							<bean parent="Uif-InputField" p:propertyName="conveyanceType.name" />
							<bean parent="Uif-InputField" p:propertyName="localReference" />
							<bean parent="Uif-InputField" p:propertyName="name" />
							<bean parent="Uif-InputField" p:propertyName="statusId" />
						</list>
					</property>
				</bean>

				<bean parent="Uif-Disclosure-StackedCollectionSection">
					<property name="headerText" value="Annexes" />
					<property name="collectionObjectClass" value="org.martinlaw.bo.ConveyanceAnnex" />
					<property name="propertyName" value="annexes" />
					<property name="items">
						<list>
							<bean parent="Uif-InputField" p:propertyName="type.name" />
						</list>
					</property>
					<property name="layoutManager.summaryFields">
						<list>
							<value>type.name</value>
						</list>
					</property>
					<property name="layoutManager.summaryTitle" value="Annex" />
					<property name="subCollections">
						<list>
							<bean parent="Uif-StackedSubCollection-WithinSection">
								<property name="headerText" value="Attachments" />
								<property name="collectionObjectClass" value="org.martinlaw.bo.ConveyanceAttachment" />
								<property name="propertyName" value="attachments" />
								<property name="items">
									<list>
										<bean parent="Uif-ActionLink"
											p:methodToCall="downloadConveyanceAttachment" p:actionLabel="@{#attachment.attachmentFileName}"
											p:title="@{#attachment.attachmentFileName}"
											p:onClickScript="writeHiddenToForm(&quot;skipViewInit&quot;, &quot;true&quot;);
											writeHiddenToForm(&quot;renderFullView&quot;, &quot;false&quot;);
											writeHiddenToForm(&quot;unblockUIOnLoading&quot;, &quot;true&quot;);
											writeHiddenToForm(&quot;actionParameters[conveyanceAttachmentId]&quot;, &quot;@{#attachment.id}&quot;);" />
									</list>
								</property>
								<property name="layoutManager.summaryFields">
									<list>
										<value>attachment.attachmentFileName</value>
									</list>
								</property>
								<property name="layoutManager.summaryTitle" value="Attachment" />
							</bean>
						</list>
					</property>
				</bean>

				<bean parent="martinlaw_shared_client_inquiry_section">
					<property name="collectionObjectClass" value="org.martinlaw.bo.CourtCaseClient" />
				</bean>

				<bean parent="martinlaw_shared_fee_inquiry_section">
					<property name="collectionObjectClass" value="org.martinlaw.bo.CourtCaseFee" />
				</bean>
			</list>
		</property>
	</bean>
</beans>
